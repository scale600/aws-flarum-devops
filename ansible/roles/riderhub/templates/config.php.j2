<?php

return [
    'debug' => {{ debug | default(false) | lower }},
    'url' => '{{ app_url | default("https://riderhub.amplifyapp.com") }}',
    'database' => [
        'driver' => 'dynamodb',
        'host' => '{{ dynamodb_endpoint | default("") }}',
        'database' => '{{ dynamodb_database | default("riderhub") }}',
        'username' => '{{ aws_access_key_id | default("") }}',
        'password' => '{{ aws_secret_access_key | default("") }}',
        'charset' => 'utf8mb4',
        'collation' => 'utf8mb4_unicode_ci',
        'prefix' => '',
        'strict' => true,
        'engine' => null,
        'options' => [
            'region' => '{{ aws_region | default("us-east-1") }}',
            'version' => 'latest',
            'posts_table' => '{{ dynamodb_posts_table }}',
            'comments_table' => '{{ dynamodb_comments_table }}'
        ]
    ],
    'cache' => [
        'default' => 'array',
        'stores' => [
            'array' => [
                'driver' => 'array'
            ]
        ]
    ],
    'session' => [
        'driver' => 'array',
        'lifetime' => 120,
        'expire_on_close' => false,
        'encrypt' => false,
        'files' => storage_path('framework/sessions'),
        'connection' => null,
        'table' => 'sessions',
        'store' => null,
        'lottery' => [2, 100],
        'cookie' => 'flarum_session',
        'path' => '/',
        'domain' => null,
        'secure' => false,
        'http_only' => true,
        'same_site' => 'lax'
    ],
    'queue' => [
        'default' => 'sync',
        'connections' => [
            'sync' => [
                'driver' => 'sync'
            ]
        ]
    ],
    'filesystems' => [
        'default' => 's3',
        'disks' => [
            's3' => [
                'driver' => 's3',
                'key' => '{{ aws_access_key_id | default("") }}',
                'secret' => '{{ aws_secret_access_key | default("") }}',
                'region' => '{{ aws_region | default("us-east-1") }}',
                'bucket' => '{{ s3_media_bucket }}',
                'url' => null,
                'endpoint' => null,
                'use_path_style_endpoint' => false,
                'throw' => false
            ]
        ]
    ],
    'mail' => [
        'driver' => 'sns',
        'host' => '{{ sns_topic_arn | default("") }}',
        'port' => 587,
        'from' => [
            'address' => '{{ mail_from_address | default("noreply@riderhub.dev") }}',
            'name' => '{{ mail_from_name | default("RiderHub") }}'
        ],
        'encryption' => 'tls',
        'username' => null,
        'password' => null,
        'sendmail' => '/usr/sbin/sendmail -bs',
        'markdown' => [
            'theme' => 'default',
            'paths' => [
                resource_path('views/vendor/mail')
            ]
        ]
    ]
];
